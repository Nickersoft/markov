<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Markov.js by Nickersoft</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
  </head>
  <body>
    <main>
        <div class="logo">
            <img class="icon" src="images/icon.svg" />
            <img class="text" src="images/text.svg"  />
        </div>
        <ul class="nav">
            <li>
                <a class="button" href="https://github.com/Nickersoft/markov.js" target="_blank">
                    <i class="fa fa-github"></i>
                    Github
                </a>
            </li>
            <li>
                <a class="button" href="https://npmjs.com/package/markov.js" target="_blank">
                    <i class="fa fa-download"></i>
                    NPM
                </a>
            </li>
        </ul>
        <span class="plug">Created by <a href="http://tylernickerson.com" target="_blank">this kid here</a>.</span>
        <div class="separator"></div>
        <div class="quote">
            <div id="quoteBody" class="body"></div>
            <div class="sub">
                &ndash; <a target="_blanK"
                     href="http://www.politico.com/story/2016/07/full-transcript-donald-trump-nomination-acceptance-speech-at-rnc-225974">
                     TrumpBot
                 </a><br/>
                (Powered by Markov.js)
            </div>
        </div>
    </main>
    <script src="node_modules/markov.js/markov.min.js"></script>
    <script>
        var markov = new Markov('data.txt', function () {
            var self = this;

            function getQuote() {
                var str = self.generate();
                // Don't retrieve strings with incomplete quotes
                if ((str.match('"') || []).length % 2 !== 0) {
                    str = getQuote();
                }
                return str.replace('"', '\'');
            }

            document.getElementById('quoteBody').innerHTML = getQuote();
        })
    </script>
  </body>
</html>
